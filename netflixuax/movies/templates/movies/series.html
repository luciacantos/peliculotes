{% extends 'movies/base.html' %}

{% block title %}Series{% endblock %}

{% block content %}
<div class="search-container">
    <form method="get" action="{% url 'series' %}">
        <input type="text" name="search" placeholder="Buscar series..." value="{{ request.GET.search }}" class="search-input">
        <button type="submit" class="search-btn">Buscar</button>
    </form>
</div>

<div class="genre-buttons-container">
    {% for genre in genres %}
    <a href="?genre={{ genre.id }}" class="{% if genre_selected and genre.id == genre_selected.id %}active{% endif %}">{{ genre.name }}</a>
    {% endfor %}
</div>

{% if search_query %}
<h2 class="category-title">Resultados para "{{ search_query }}"</h2>
{% endif %}

<div class="movie-grid">
    {% for serie in series %}
    <div class="movie-item">
        <a href="{% url 'series_detail' serie.id %}">
            <img src="https://image.tmdb.org/t/p/w500{{ serie.poster_path }}" alt="{{ serie.title }}">
            <h3>{{ serie.title }}</h3>
        </a>
    </div>
    {% empty %}
    <p>No se encontraron series para esta b√∫squeda.</p>
    {% endfor %}
</div>
{% endblock %}
